{{- if and (eq .Values.deploymentType "individual") .Values.individual.notificationServiceConfig.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.individual.notificationServiceConfig.name }}
  labels:
    release: {{ .Release.Name }}
data:
  application.conf: |-
    queue.config {
      kafka {
        bootstrap.servers = {{ .Values.individual.notificationServiceConfig.queueConfig.bootstrapServers }}
        consumer {
          schema.registry.url = {{ .Values.individual.notificationServiceConfig.queueConfig.schemaRegistryUrl }}
          key.deserializer= {{ .Values.individual.notificationServiceConfig.queueConfig.consumer.keyDeserializer }}
          value.deserializer= {{ .Values.individual.notificationServiceConfig.queueConfig.consumer.valueDeserializer }}
        }
      }
    }
{{- end }}